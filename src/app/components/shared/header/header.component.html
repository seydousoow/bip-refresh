<header [class.tw-mb-2]="!isHomeRoute"
        [class.tw-shadow-2xl]="!isHomeRoute"
        class="tw-w-full tw-text-white tw-z-50 tw-bg-neutral-800">
  <nav class="tw-container tw-mx-auto tw-px-4 tw-py-3">
    <div class="tw-flex tw-items-center tw-justify-between">

      <!-- Logo -->
      <div class="tw-flex tw-items-center tw-relative tw-h-11 tw-w-32 tw-cursor-pointer" routerLink="/">
        <img alt="Logo" fill ngSrc="images/logo/bip-logo.png" priority/>
      </div>

      <!-- Desktop Menu -->
      <div class="tw-hidden tw-items-center tw-space-x-8 md:tw-flex">
        <div class="tw-flex tw-space-x-6">
          @for (item of menuItems; track item.label) {
            <a [routerLink]="item.routerLink" class="tw-font-bold tw-text-md tw-text-white hover:tw-text-orange-400 hover:tw-underline">
              {{ item.label }}
            </a>
          }
        </div>

        <!-- Search Bar -->
        <div class="tw-relative">
          <input (keyup.enter)="handleSearch()" [(ngModel)]="searchQuery"
                 class="tw-pl-10 tw-pr-4 tw-py-2 tw-border tw-rounded-lg tw-text-gray-800 focus:tw-outline-none focus:tw-ring-2 focus:tw-ring-orange-500"
                 placeholder="Recherche ..."
                 type="text"/>
          <svg class="tw-h-5 tw-w-5 tw-absolute tw-left-3 tw-top-2.5 tw-text-gray-600"
               fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
            <path d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z" stroke-linecap="round" stroke-linejoin="round"
                  stroke-width="2"/>
          </svg>
        </div>

        <!-- User Menu -->
        <div class="tw-relative">
          <button (click)="toggleUserDropdown()"
                  class="tw-p-2 tw-rounded-full tw-bg-green-100 hover:tw-bg-green-300 focus:tw-outline-none">
            <svg class="tw-h-6 tw-w-6 tw-text-gray-900" stroke="currentColor" viewBox="0 0 24 24"
                 xmlns="http://www.w3.org/2000/svg">
              <path d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z" stroke-linecap="round"
                    stroke-linejoin="round" stroke-width="2"/>
            </svg>
          </button>

          <!-- User Dropdown -->
          @if (isUserDropdownOpen) {
            <div class="tw-absolute tw-right-0 tw-mt-2 tw-w-48 tw-bg-white tw-rounded-md tw-shadow-lg tw-py-1 tw-z-50">
              @for (item of userMenuItems; track item.label) {
                <a class="tw-block tw-px-4 tw-py-2 tw-text-sm tw-text-gray-700 hover:tw-bg-gray-100">
                  <i [class]="item.icon" class="tw-mr-2"></i>
                  {{ item.label }}
                </a>
              }
            </div>
          }
        </div>
      </div>

      <!-- Mobile Menu Button -->
      <button (click)="toggleMenu()" class="tw-p-2 tw-rounded-md tw-bg-white md:tw-hidden">
        <svg class="tw-h-7 tw-w-7" stroke="#000000"
             viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
          <path [class.tw-hidden]="isMenuOpen" d="M4 6h16M4 12h16M4 18h16" stroke-width="2"/>
          <path [class.tw-hidden]="!isMenuOpen" d="M6 18L18 6M6 6l12 12" stroke-width="2"/>
        </svg>
      </button>
    </div>

    <!-- Mobile Menu -->
    @if (isMenuOpen) {
      <div class="tw-mt-4 md:tw-hidden">
        <div class="tw-flex tw-flex-col tw-space-y-4">
          @for (item of menuItems; track item.label) {
            <a [routerLink]="item.routerLink"
               class="tw-text-white tw-transition-colors tw-px-2 tw-py-1 hover:tw-text-gray-900">
              {{ item.label }}
            </a>
          }
          <!-- Mobile Search -->
          <div class="tw-relative">
            <input (keyup.enter)="handleSearch()" [(ngModel)]="searchQuery"
                   class="tw-pl-10 tw-pr-4 tw-py-2 tw-border tw-rounded-lg tw-text-gray-800 focus:tw-outline-none focus:tw-ring-2 focus:tw-ring-orange-500"
                   placeholder="Recherche ..."
                   type="text"/>
            <svg class="tw-h-5 tw-w-5 tw-absolute tw-left-3 tw-top-2.5 tw-text-gray-600"
                 fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
              <path d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z" stroke-linecap="round" stroke-linejoin="round"
                    stroke-width="2"/>
            </svg>
          </div>
        </div>
      </div>
    }
  </nav>
</header>
